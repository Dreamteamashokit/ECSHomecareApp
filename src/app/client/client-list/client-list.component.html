<app-loader [show]="IsLoad"></app-loader>
<div id="page-wrapper">
  <!--BEGIN TITLE & BREADCRUMB PAGE-->
  <div id="title-breadcrumb-option-demo" class="page-title-breadcrumb">
    <div class="page-header pull-left">
      <div class="page-title">Client List</div>
    </div>
    <div class="clearfix"></div>
  </div>
  <!--END TITLE & BREADCRUMB PAGE-->
  <!--BEGIN CONTENT-->
  <div class="page-content">
    <div class="row">
      <div class="col-sm-12 text-right">
        <ul data-hover="" class="pagination mtn mbn">
          <li [ngClass]="{'active': currentAlpha === 'A'}"><a (click)="AlphaFilter('A')">A</a></li>
          <li [ngClass]="{'active': currentAlpha === 'B'}"><a (click)="AlphaFilter('B')">B</a></li>
          <li [ngClass]="{'active': currentAlpha === 'C'}"><a (click)="AlphaFilter('C')">C</a></li>
          <li [ngClass]="{'active': currentAlpha === 'D'}"><a (click)="AlphaFilter('D')">D</a></li>
          <li [ngClass]="{'active': currentAlpha === 'E'}"><a (click)="AlphaFilter('E')">E</a></li>
          <li [ngClass]="{'active': currentAlpha === 'F'}"><a (click)="AlphaFilter('F')">F</a></li>
          <li [ngClass]="{'active': currentAlpha === 'G'}"><a (click)="AlphaFilter('G')">G</a></li>
          <li [ngClass]="{'active': currentAlpha === 'H'}"><a (click)="AlphaFilter('H')">H</a></li>
          <li [ngClass]="{'active': currentAlpha === 'I'}"><a (click)="AlphaFilter('I')">I</a></li>
          <li [ngClass]="{'active': currentAlpha === 'J'}"><a (click)="AlphaFilter('J')">J</a></li>
          <li [ngClass]="{'active': currentAlpha === 'K'}"><a (click)="AlphaFilter('K')">K</a></li>
          <li [ngClass]="{'active': currentAlpha === 'L'}"><a (click)="AlphaFilter('L')">L</a></li>
          <li [ngClass]="{'active': currentAlpha === 'M'}"><a (click)="AlphaFilter('M')">M</a></li>
          <li [ngClass]="{'active': currentAlpha === 'N'}"><a (click)="AlphaFilter('N')">N</a></li>
          <li [ngClass]="{'active': currentAlpha === 'O'}"><a (click)="AlphaFilter('O')">O</a></li>
          <li [ngClass]="{'active': currentAlpha === 'P'}"><a (click)="AlphaFilter('P')">P</a></li>
          <li [ngClass]="{'active': currentAlpha === 'Q'}"><a (click)="AlphaFilter('Q')">Q</a></li>
          <li [ngClass]="{'active': currentAlpha === 'R'}"><a (click)="AlphaFilter('R')">R</a></li>
          <li [ngClass]="{'active': currentAlpha === 'S'}"><a (click)="AlphaFilter('S')">S</a></li>
          <li [ngClass]="{'active': currentAlpha === 'T'}"><a (click)="AlphaFilter('T')">T</a></li>
          <li [ngClass]="{'active': currentAlpha === 'U'}"><a (click)="AlphaFilter('U')">U</a></li>
          <li [ngClass]="{'active': currentAlpha === 'V'}"><a (click)="AlphaFilter('V')">V</a></li>
          <li [ngClass]="{'active': currentAlpha === 'W'}"><a (click)="AlphaFilter('W')">W</a></li>
          <li [ngClass]="{'active': currentAlpha === 'X'}"><a (click)="AlphaFilter('X')">X</a></li>
          <li [ngClass]="{'active': currentAlpha === 'Y'}"><a (click)="AlphaFilter('Y')">Y</a></li>
          <li [ngClass]="{'active': currentAlpha === 'Z'}"><a (click)="AlphaFilter('Z')">Z</a></li>
          <li [ngClass]="{'active': currentAlpha === 'All'}"><a (click)="AlphaFilter('All')">All</a></li>
        </ul>
      </div>
    </div>
    <div class="panel">
      <div class="panel-body">
        <div class="row mtm">
          <div class="col-sm-10">
            <div class="row">
              <div class="col-sm-2 col-xs-6">
                <div class="form-group mtm"><label class="control-label">Status</label>
                  <select class="form-control" id="ddlStatus" #status name="status" [(ngModel)]="objModel.status"
                    (change)="getFilterData(objModel)">
                    <option value="0">All</option>
                    <option *ngFor="let obj of statusData" [value]="obj.itemId">
                      {{ obj.itemName }}
                    </option>
                  </select>

                </div>
              </div>
              <div class="col-sm-2 col-xs-6">
                <div class="form-group mtm"><label class="control-label">Coordinator</label>
                  <select class="form-control" id="ddlmanager" name="coordinator" [(ngModel)]="objModel.coordinator"
                    (change)="getFilterData(objModel)">
                    <option value="0">All</option>
                    <option *ngFor="let obj of managerList" [value]="obj.itemId">
                      {{ obj.itemName }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-sm-4 col-xs-12">
                <div class="form-group mtm ngxAutocomplte"><label class="control-label">All Client Data</label>
                  <input [(ngModel)]="search" typeaheadOptionField="login" [typeahead]="suggestions$"
                    [typeaheadItemTemplate]="customItemTemplate" [typeaheadAsync]="true" class="form-control"
                    placeholder="Names, address, phone, SSN, all IDs">
                  <ng-template #customItemTemplate let-model="item" let-index="index">
                    <div class="row">
                      <a [routerLink]="'/client/info/' + model.clientId+'/0'">
                        <div class="col-lg-9 col-xs-9">
                          <h5 class="mbn mtn"> {{model.lastName}} {{model.firstName}} | {{model.clientId}}</h5>
                          <h6 class="mbn mts">
                            {{model.address}}, {{model.city}} {{model.state}}{{model.zipCode}}
                          </h6>
                        </div>
                      </a>
                      <a [routerLink]="'/client/info/' + model.clientId+'/1'">
                        <div class="col-lg-3 col-xs-3">
                          <i class="fa fa-calendar mrs" style="position: relative; top: -10px;"></i>
                        </div>
                      </a>
                    </div>
                  </ng-template>
                </div>
              </div>
              <div class="col-sm-2 col-xs-6">
                <div class="form-group mtm"><label class="control-label">Payer</label>
                  <select class="form-control" id="ddlpayer" name="payer" [(ngModel)]="objModel.payer"
                    (change)="getFilterData(objModel)">
                    <option value="0">All</option>
                    <option *ngFor="let obj of payerList" [value]="obj.itemId">
                      {{ obj.itemName }}
                    </option>
                  </select>
                </div>
              </div>
              <div class="col-sm-2 col-xs-6">
                <div class="form-group mtm"><label class="control-label">State</label>
                  <select class="form-control" id="ddlState" name="state" [(ngModel)]="objModel.state"
                    (change)="getFilterData(objModel)">
                    <option value="">All</option>
                    <option *ngFor="let obj of stateList" [value]="obj.itemCode">
                      {{ obj.itemName }}
                    </option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-2 text-right">
            <div class="row">
              <div class="col-sm-12 col-md-12 col-xs-6"><button type="button" class="btn btn-sm btn-default mbm mts"
                  routerLink="/client/create"><i class="fa fa-plus"></i> Add Client</button></div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <h4 class="mbn text-black"> {{resultText}}</h4>
            <div class="small">
              <span class="small text-orange"> <strong> Listing {{totalItemsCount}} clients.</strong>
              </span>
            </div>
          </div>
        </div>
        <div class="row mtm">
          <div class="col-sm-12">
            <div class="table-responsive-max client-table">
              <table class="table table-striped table-bordered table-hover mbn">
                <thead>
                  <tr>
                    <th width="20%" valign="top" style="min-width: 150px">
                      CLIENTS</th>
                    <th width="11%" valign="top">
                      <div class="row">
                        <div class="col-sm-4 col-xs-4"><a (click)="OnPrevWeek()"><i
                              class="fa fa-chevron-left medium-txt text-black  arrow-left-client"></i></a></div>
                        <div class="col-sm-8 col-xs-8">
                          <p class="mbn">Sun </p>
                          <span class="text-black small-txt">
                            {{monthList[weekList[1].getMonth()] }} {{ weekList[0].getDate() }}
                          </span>
                        </div>
                      </div>
                    </th>
                    <th width="11%" valign="top">
                      <p class="mbn">Mon</p> <span class="text-black small-txt">{{monthList[weekList[1].getMonth()] }}
                        {{ weekList[1].getDate()}} </span>
                    </th>
                    <th width="11%" valign="top">
                      <p class="mbn">Tue </p> <span class="text-black small-txt">{{monthList[weekList[2].getMonth()] }}
                        {{ weekList[2].getDate() }}</span>
                    </th>
                    <th width="11%" valign="top">
                      <p class="mbn">Wed </p> <span class="text-black small-txt">{{monthList[weekList[3].getMonth()] }}
                        {{ weekList[3].getDate() }}</span>
                    </th>
                    <th width="11%" valign="top">
                      <p class="mbn">Thu </p> <span class="text-black small-txt">{{monthList[weekList[4].getMonth()]
                        }}{{ weekList[4].getDate() }}</span>
                    </th>
                    <th width="11%" valign="top">
                      <p class="mbn">Fri </p> <span class="text-black small-txt">{{monthList[weekList[5].getMonth()] }}
                        {{ weekList[5].getDate() }}</span>
                    </th>
                    <th width="11%" valign="top">
                      <div class="row">
                        <div class="col-sm-8 col-xs-8">
                          <p class="mbn">Sat </p> <span class="text-black small-txt">{{monthList[weekList[6].getMonth()]
                            }} {{ weekList[6].getDate() }}</span>
                        </div>
                        <div class="col-sm-4 col-xs-4"><a (click)="OnNextWeek()"><i
                              class="fa fa-chevron-right medium-txt text-black  arrow-right-client"></i></a></div>
                      </div>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr
                    *ngFor="let client of clientMOMList | paginate: { itemsPerPage: 5, currentPage: p, totalItems: totalItemsCount };let i = index">
                    <td valign="top" class="bg-white" style="min-width: 254px;">
                      <div class="client-list">
                        <ul>
                          <li>
                            <div class="row">
                              <div class="col-lg-10">
                                <a [routerLink]="'/client/info/' + client.clientId+'/0'">
                                  <h4> {{client.lastName}}, {{client.firstName}} </h4>
                                  <span class="text-orange">{{ client.clientId }}</span>
                                </a>
                              </div>
                              <div class="col-sm-2 col-xs-2">
                                <a [routerLink]="'/client/info/' + client.clientId+'/1'">
                                  <i class="fa fa-calendar medium-txt text-orange"></i>
                                </a>
                              </div>
                            </div>
                          </li>
                        </ul>
                      </div>
                    </td>
                    <td *ngFor="let week of currentweekarray" valign="top" class="client-td">
                      <div *ngIf="client.meetings.length>0" class="row mbs">
                        <a href="javascript:void(0)" (click)="showMeeting(mtmObj.meetingId)" *ngFor="let mtmObj of client.meetings">
                          <div class="col-sm-12" *ngIf="(mtmObj.meetingDate   |  equateDate : week)==true">
                            <div class="client-box-green-dot"></div>
                            <div class="client-box">
                              <p class="mbx"><strong>{{ mtmObj.startTime.toString() + '-' + mtmObj.endTime.toString()
                                  }}</strong></p>
                              <p class="mbn">{{ mtmObj.empName }}</p>
                            </div>
                          </div>
                        </a>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-sm-12">
            <pagination-controls class="paginator mtm mbm text-right pull-right" (pageChange)="pageChanged($event)">
            </pagination-controls>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--END CONTENT-->
</div>